#!/bin/bash
# =============================================================================
# SteamMachine-DIY - System Update Manager
# =============================================================================
# Script:      steamos-update
# Version:     4.0.0
# Philosophy:  KISS
# Description: Compatibility shim for SteamOS OTA update infrastructure.
# =============================================================================

CONF="/etc/default/steamos-diy"
[ -f "$CONF" ] && source "$CONF"

log_info() {
    local msg="[$(date '+%Y-%m-%d %H:%M:%S')] [Update-Shim] $1"
    echo -e "$1"
    echo "$msg" >> "${LOG_FILE:-/tmp/steamos-diy-fallback.log}"
}

log_info "Intercepting SteamOS OTA update request."
log_info "Update check acknowledged. System is reported as 'Up to Date' to the UI."

# Exit 7 Ã¨ il codice che SteamOS interpreta come "Nessun aggiornamento necessario"
exit 7

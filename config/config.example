# =============================================================================
#           STEAM MACHINE DIY - MAIN CONFIGURATION PANEL
# =============================================================================
# Path: ~/.config/steamos-diy/config
# Version: 3.1.0
# Description: Master display and compositor settings for Gamescope.
# Repository: https://github.com/dlucca1986/SteamMachine-DIY
# Path: ~/.config/steamos-diy/config
# License: MIT
# =============================================================================
# Path:        ~/.config/steamos-diy/config
# Version:     3.2.4
# Description: Master display and compositor settings for Gamescope.
# Repository:  https://github.com/dlucca1986/SteamMachine-DIY
# License:     MIT
# =============================================================================

# --- [ üü¢ HOW TO EDIT ] ---
# 1. Use 1 for ON (Yes) and 0 for OFF (No).
# 2. NO SPACES around '='! (e.g., TARGET_WIDTH=1920 is OK).
# 3. Variables with 'export' affect the Steam UI environment.
# =============================================================================

# --- [ 1. DISPLAY SETTINGS ] ---
# These define the "Canvas" where your games will be drawn.
# Set these to match your TV or Monitor's native specs.
# -----------------------------------------------------------------------------
TARGET_WIDTH=1920                             # Horizontal pixels (Width)
TARGET_HEIGHT=1080                            # Vertical pixels (Height)
REFRESH_RATE=60                               # Refresh rate in Hz (Speed)


# --- [ 2. STEAM INTERFACE & DRIVERS ] ---
# These variables "inject" settings into the Steam process.
# -----------------------------------------------------------------------------
# ‚úÖ CORRECT SYNTAX:
export SDL_VIDEODRIVER=x11                    # Forces X11 (Safe for Gamescope)
export XDG_CURRENT_DESKTOP=SteamOS            # Tells Steam: "You are a Console"

# ‚ùå WRONG SYNTAX:
# SDL_VIDEODRIVER=x11                         # ‚ùå ERROR: Missing 'export'
# export SDL_VIDEODRIVER = x11                # ‚ùå ERROR: Spaces break Bash
# -----------------------------------------------------------------------------


# --- [ 3. FEATURE TOGGLES (0/1) ] ---
# Performance and Visual enhancements.
# -----------------------------------------------------------------------------
ENABLE_MANGOAPP=0                             # SHOW FPS: Performance Overlay
ENABLE_HDR=0                                  # HDR: Deep colors (Needs HDR Monitor)
ENABLE_VRR=0                                  # VRR: G-Sync/FreeSync (Prevents tearing)


# --- [ 4. EXPERT ARGUMENTS ] ---
# Extra flags sent directly to the Gamescope compositor.
# Think of this as adding "Left-side" instructions to the compositor.
# -----------------------------------------------------------------------------
# ‚úÖ EXAMPLE: GAMESCOPE_ARGS="--cursor-scale 2 --borderless"
# ‚ùå DANGER:  GAMESCOPE_ARGS="--wrong-flag" (Can cause black screens!)
# -----------------------------------------------------------------------------
GAMESCOPE_ARGS=""

# --- [ 5. POST-LAUNCH COMMAND ] ---
# Execute a custom command 5 seconds after the session starts.
# Useful for runtime adjustments (e.g., gamescopectl or display fixes).
# -----------------------------------------------------------------------------
# ‚úÖ EXAMPLE: POST_LAUNCH_CMD="gamescopectl adaptive_sync_ignore_overlay 1"
# -----------------------------------------------------------------------------
POST_LAUNCH_CMD=""

# =============================================================================
# ! HARDWARE SAFETY & WATCHDOG !
# =============================================================================
# üõ°Ô∏è PREVENTIVE GUARD: 
# If your settings exceed your monitor's physical limits, SDY will 
# automatically override them with NATIVE resolution (Auto-Fallback).
#
# üõ°Ô∏è REACTIVE WATCHDOG: 
# If Gamescope crashes within 10s (due to bad arguments), the system 
# will restart in "Native Safe Mode" to keep the UI accessible.
#
# üõ°Ô∏è VULKAN FIRST: 
# This system is built for Vulkan. Ensure your GPU supports it.
# =============================================================================
